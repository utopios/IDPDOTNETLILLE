@*@inject ProductService _productService*@
<h3>ProductsComponent</h3>
<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Titre</th>
      <th scope="col">Prix</th>
      <th scope="col">Stock</th>
            @if(Search)
            {
                <th scope="col">Actions</th>
            }
        </tr>
  </thead>
  <tbody>
        @foreach(Product p in Products)
        {
            <ProductComponent Search="@Search" Product="@p"></ProductComponent>
        }
    </tbody>
</table>
@code {

    //public ProductsComponent()
    //{
    //}
    //Cette fonction est appelée à l'initialisation du component

    [Parameter]
    public List<Product> Products { get; set; }

    [Parameter]
    public bool Search { get; set; }
    //protected override void OnInitialized()
    //{
    //    _productService.ProductsChanged += StateHasChanged;        
    //}
}
